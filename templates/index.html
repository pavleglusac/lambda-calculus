<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Lambda calculus</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src='main.js'></script>
    <style>
    .form-rounded {
        border-radius: 1rem;
    }
    </style>
</head>
<body>
    <div class="d-flex justify-content-center align-items-start shadow">
        
        <div class="card d-flex flex-row shadow justify-content-center w-75 align-items-start h-75 mt-1 p-0" >
            
            <div class="card-body d-flex flex-column justify-content-start w-75 mt-2 p-0">
                <nav class="navbar w-100 navbar-expand-lg navbar-light">
                    <a class="navbar-brand ms-4" href="#">Lambda calculus</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>
                  
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                      <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                          <a class="nav-link" href="/">Home</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="about">About</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="examples">Examples</a>
                        </li>
                      </ul>
                    </div>
                </nav>
                <div class="d-flex justify-content-center text-center mt-5">
                    <img class="align-self-start" src="/static/lambda.png" style="width: 10vw;">
                </div>
                <form id="inputForm" class="w-100" action="{{ url_for('evaluate') }}" method="post">
                    <div class="d-flex justify-content-center mb-3">
                        <input type="text" id="expressionInput" name="expression" class="form-control form-rounded w-50" placeholder="Enter an expression">
                    </div>
                </form>
                <div class="d-flex flex-column align-items-center mb-5">
                    {% for expression in expressions %}
                        <p class="lead mb-1">{{expression}}</p>
                    {% endfor %}
                </div>
                <div class="w-100 h-100">
                    <div id="carouselExampleControls" class="carousel slide h-100 mb-5" data-bs-ride="carousel">
                        <div class="carousel-inner text-center">
                        {% for ind in range(expressions|length)%}
                            <div class="carousel-item {% if ind == 0 %} active {% endif %}">
                                <p>{{expressions[ind]}}</p>
                                <object class="svg"  data="/static/model{{ind}}.svg"  style="height: 75vh;"></object>
                            </div>
                        {% endfor %}
                        </div>
                        <button class="carousel-control-prev bg-dark" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next bg-dark" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
                

            </div>
        </div>
    </div>
</body>
<script>
    var input = document.getElementById('expressionInput');

    input.addEventListener('keypress', function(event) {  
    if (event.key === 'Enter') {
        event.preventDefault();
        document.getElementById('inputForm').submit();
    }
}); 
</script>
</html>